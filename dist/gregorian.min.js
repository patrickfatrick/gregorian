!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.gregorian=t.gregorian||{})}(this,function(t){"use strict";function e(t){if(t instanceof Date)return!0;throw new TypeError("Invalid date")}function n(t){return function e(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return function(){for(var n=arguments.length,u=Array(n),o=0;o<n;o++)u[o]=arguments[o];var a=r.concat(u.length?u:null);return(a.length>=t.length?t:e).apply(void 0,S(a))}}()}function r(t,e,n){var r;return(r={},M(r,d,function(t){return new Date(t.setUTCMilliseconds(t.getUTCMilliseconds()+e))}),M(r,T,function(t){return new Date(t.setUTCSeconds(t.getUTCSeconds()+e))}),M(r,D,function(t){return new Date(t.setUTCMinutes(t.getUTCMinutes()+e))}),M(r,l,function(t){return new Date(t.setUTCHours(t.getUTCHours()+e))}),M(r,f,function(t){return new Date(t.setUTCDate(t.getUTCDate()+e))}),M(r,h,function(t){return new Date(t.setUTCDate(t.getUTCDate()+7*e))}),M(r,g,function(t){var n=t.getUTCMonth()+e,r=t.getUTCFullYear(),u=t.getUTCDate();return u>new Date(t.setUTCFullYear(r,n+1,0)).getUTCDate()?new Date(t.setUTCFullYear(r,n+1,0)):new Date(t.setUTCFullYear(r,n,u))}),M(r,c,function(t){var n=t.getUTCFullYear()+e,r=t.getUTCMonth(),u=t.getUTCDate();return u>new Date(t.setUTCFullYear(n,r+1,0)).getUTCDate()?new Date(t.setUTCFullYear(n,r+1,0)):new Date(t.setUTCFullYear(n,r,u))}),r)[t](n)}function u(t,e,n){var r;return(r={},M(r,T,function(t){return new Date(t["set"+n+"Seconds"](t["get"+n+"Seconds"](),0))}),M(r,D,function(t){return new Date(t["set"+n+"Minutes"](t["get"+n+"Minutes"](),0,0))}),M(r,l,function(t){return new Date(t["set"+n+"Hours"](t["get"+n+"Hours"](),0,0,0))}),M(r,f,function(t){return t["set"+n+"Date"](t["get"+n+"Date"]()),t["set"+n+"Hours"](0,0,0,0),new Date(t)}),M(r,h,function(t){return t["set"+n+"Date"](t["get"+n+"Date"]()-t["get"+n+"Day"]()),t["set"+n+"Hours"](0,0,0,0),new Date(t)}),M(r,g,function(t){return t["set"+n+"Month"](t["get"+n+"Month"](),1),t["set"+n+"Hours"](0,0,0,0),new Date(t)}),M(r,c,function(t){return t["set"+n+"FullYear"](t["get"+n+"FullYear"](),0,1),t["set"+n+"Hours"](0,0,0,0),new Date(t)}),r)[t](e)}function o(t,e,n){var r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(r={},M(r,d,function(t){return new Date(t["set"+u+"Milliseconds"](e))}),M(r,T,function(t){return new Date(t["set"+u+"Seconds"](e))}),M(r,D,function(t){return new Date(t["set"+u+"Minutes"](e))}),M(r,l,function(t){return new Date(t["set"+u+"Hours"](e))}),M(r,f,function(t){return new Date(t["set"+u+"Date"](e))}),M(r,s,function(t){return new Date(t["set"+u+"Date"](t["get"+u+"Date"]()-t["get"+u+"Day"]()+(e-1)))}),M(r,h,function(t){var n=t["get"+u+"Day"](),r=t["get"+u+"Milliseconds"]();t["set"+u+"FullYear"](t["get"+u+"FullYear"](),0,7*e);var o=n-t["get"+u+"Day"]();return t["set"+u+"Date"](t["get"+u+"Date"]()+o),new Date(t["set"+u+"Milliseconds"](r))}),M(r,g,function(t){var n=e-1,r=t["get"+u+"FullYear"](),o=t["get"+u+"Date"](),a=new Date(t["set"+u+"FullYear"](r,n+1,0));return o>a["get"+u+"Date"]()?a:new Date(t["set"+u+"FullYear"](r,n,o))}),M(r,c,function(t){var n=e,r=t["get"+u+"Month"](),o=t["get"+u+"Date"](),a=new Date(t["set"+u+"FullYear"](n,r+1,0));return o>a["get"+u+"Date"]()?a:new Date(t["set"+u+"FullYear"](n,r,o))}),r)[t](n)}function a(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(n={},M(n,U,function(t){return r?0:t.getTimezoneOffset()/60*-1}),M(n,d,function(t){return t["get"+r+"Milliseconds"]()}),M(n,T,function(t){return t["get"+r+"Seconds"]()}),M(n,D,function(t){return t["get"+r+"Minutes"]()}),M(n,l,function(t){return t["get"+r+"Hours"]()}),M(n,f,function(t){return t["get"+r+"Date"]()}),M(n,s,function(t){return t["get"+r+"Day"]()+1}),M(n,h,function(t){return Math.floor(((t-new Date(t["get"+r+"FullYear"](),0,1))/1e3/60/60/24+1)/7)}),M(n,g,function(t){return t["get"+r+"Month"]()+1}),M(n,c,function(t){return t["get"+r+"FullYear"]()}),n)[t](e)}var i,c="y",s="e",f="d",g="m",l="h",D="t",T="s",d="l",U="z",h="w",w=Object.freeze({UNIX:"unix",UTC_SHORT:"utc-short",UTC:"utc",ISO_SHORT:"iso-short",ISO:"iso",YEAR_FULL:"Y",YEAR:c,DAY_FULL:"E",DAY:s,DATE_ORDINAL:"o",DATE_FULL:"D",DATE:f,MONTH_NAME_FULL:"N",MONTH_NAME:"n",MONTH_FULL:"M",MONTH:g,HOUR_PERIOD_FULL:"G",HOUR_PERIOD:"g",HOUR_FULL:"H",HOUR:l,MINUTE_FULL:"T",MINUTE:D,PERIOD_UPPERCASE:"P",PERIOD_LOWERCASE:"p",SECOND_FULL:"S",SECOND:T,MILLISECOND_FULL:"L",MILLISECOND:d,TIMEZONE_OFFSET:U,WEEK:h}),M=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},C=(i={},M(i,"P",function(t){return t.getHours()<12?"AM":"PM"}),M(i,"p",function(t){return t.getHours()<12?"am":"pm"}),M(i,s,function(t){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]}),M(i,"E",function(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]}),M(i,l,function(t){return t.getHours()}),M(i,"H",function(t){var e=t.getHours().toString();return e.length<2?"0"+e:e}),M(i,"n",function(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][t.getMonth()]}),M(i,"N",function(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]}),M(i,f,function(t){return t.getDate().toString()}),M(i,"D",function(t){var e=t.getDate().toString();return e.length<2?"0"+e:e}),M(i,"o",function(t){var e=t.getDate();switch(e){case 1:case 21:case 31:e+="st";break;case 2:case 22:e+="nd";break;case 3:case 23:e+="rd";break;default:e+="th"}return e}),M(i,"g",function(t){var e=t.getHours();return 0===e&&(e=12),e=e<13?e:e-12}),M(i,"G",function(t){var e=t.getHours();return 0===e&&(e=12),e=e<13?e:e-12,e=e.toString(),e.length<2?"0"+e:e}),M(i,d,function(t){return t.getMilliseconds().toString()}),M(i,"L",function(t){var e=t.getMilliseconds().toString();switch(e.length){case 1:e="00"+e;break;case 2:e="0"+e;break;default:e=""+e}return e}),M(i,g,function(t){return(t.getMonth()+1).toString()}),M(i,"M",function(t){var e=(t.getMonth()+1).toString();return e.length<2?"0"+e:e}),M(i,T,function(t){return t.getSeconds()}),M(i,"S",function(t){var e=t.getSeconds().toString();return e.length<2?"0"+e:e}),M(i,D,function(t){return t.getMinutes().toString()}),M(i,"T",function(t){var e=t.getMinutes().toString();return e.length<2?"0"+e:e}),M(i,c,function(t){return t.getFullYear().toString().substr(2)}),M(i,"Y",function(t){return t.getFullYear()}),M(i,U,function(t){var e=(t.getTimezoneOffset()/60*-1).toString();return e=/^[-]?\d$/g.test(e)?e.replace(/\d/,function(t,n){return"0"+e.charAt(n)}):e,/^[-]/g.test(e)||(e="+"+e),"UTC"+e+":00"}),M(i,"iso",function(t){return"short"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")?t.toISOString().split("T")[0]:t.toISOString()}),M(i,"iso-short",function(t){return this.iso(t,"short")}),M(i,"utc",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toUTCString();if("short"===e){for(var r=n.split(" "),u=[],o=0;o<4;o++)u.push(r[o]);return u.join(" ")}return n}),M(i,"utc-short",function(t){return this.utc(t,"short")}),M(i,"unix",function(t){return Date.parse(t)}),i),v=n(function(t,n){n=n||new Date,e(n);var r=Object.values(w),u=t;return r.forEach(function(t){var e=new RegExp("\\b"+t+"\\b","g"),r=void 0;if(e.test(u))switch(t){case"unix":case"utc-short":case"utc":case"iso-short":case"iso":u=C[t](n);break;default:r=C[t](n),u=u.replace(e,r)}}),"string"==typeof u&&(u=u.replace(/\|/g,"")),u}),F=n(function(t,n,u){return u=u||new Date,e(u),r(t,1*n,u)}),y=n(function(t,n,u){return u=u||new Date,e(u),r(t,-1*n,u)}),O=n(function(t,n){return n=n||new Date,e(n),t.reduce(function(t,e){return r(e[0],1*e[1],t)},n)}),p=n(function(t,n){return n=n||new Date,e(n),t.reduce(function(t,e){return r(e[0],-1*e[1],t)},n)}),L=n(function(t,n){return n=n||new Date,e(n),u(t,n,"UTC")}),E=n(function(t,n){return n=n||new Date,e(n),u(t,n,"")}),H=n(function(t,n,r){return r=r||new Date,e(r),o(t,n,r,"UTC")}),b=n(function(t,n,r){return r=r||new Date,e(r),o(t,n,r)}),Y=n(function(t,n){return n=n||new Date,e(n),Object.keys(t).reduce(function(e,r){return o(r,t[r],n)},n)}),A=n(function(t,n){return n=n||new Date,e(n),Object.keys(t).reduce(function(e,r){return o(r,t[r],n,"UTC")},n)}),_=n(function(t,n){return n=n||new Date,e(n),a(t,n,"UTC")}),m=n(function(t,n){return n=n||new Date,e(n),a(t,n)}),N=n(function(t,n){return n=n||new Date,e(n),t.map(function(t){return a(t,n,"UTC")})}),I=n(function(t,n){return n=n||new Date,e(n),t.map(function(t){return a(t,n)})});t.reform=v,t.addTime=F,t.addTimeSequence=O,t.subtractTime=y,t.subtractTimeSequence=p,t.resetLocal=E,t.resetUTC=L,t.setLocal=b,t.setLocalGroup=Y,t.setUTC=H,t.setUTCGroup=A,t.getLocal=m,t.getLocalGroup=I,t.getUTC=_,t.getUTCGroup=N,Object.defineProperty(t,"__esModule",{value:!0})});
