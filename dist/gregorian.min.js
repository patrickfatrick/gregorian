!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.gregorian=e.gregorian||{})}(this,function(e){"use strict";function t(e){return e instanceof Date&&!Number.isNaN(Date.parse(e))}function n(e,n){if(t(e))return!0;throw new TypeError("Invalid date passed to "+n)}function r(e){return function t(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return function(){for(var n=arguments.length,u=Array(n),o=0;o<n;o++)u[o]=arguments[o];var a=r.concat(u.length?u:null);return(a.length>=e.length?e:t).apply(void 0,C(a))}}()}function u(e,t,n){var r;return(r={},S(r,U,function(e){return new Date(e.setUTCMilliseconds(e.getUTCMilliseconds()+t))}),S(r,d,function(e){return new Date(e.setUTCSeconds(e.getUTCSeconds()+t))}),S(r,T,function(e){return new Date(e.setUTCMinutes(e.getUTCMinutes()+t))}),S(r,D,function(e){return new Date(e.setUTCHours(e.getUTCHours()+t))}),S(r,g,function(e){return new Date(e.setUTCDate(e.getUTCDate()+t))}),S(r,w,function(e){return new Date(e.setUTCDate(e.getUTCDate()+7*t))}),S(r,l,function(e){var n=e.getUTCMonth()+t,r=e.getUTCFullYear(),u=e.getUTCDate();return u>new Date(e.setUTCFullYear(r,n+1,0)).getUTCDate()?new Date(e.setUTCFullYear(r,n+1,0)):new Date(e.setUTCFullYear(r,n,u))}),S(r,s,function(e){var n=e.getUTCFullYear()+t,r=e.getUTCMonth(),u=e.getUTCDate();return u>new Date(e.setUTCFullYear(n,r+1,0)).getUTCDate()?new Date(e.setUTCFullYear(n,r+1,0)):new Date(e.setUTCFullYear(n,r,u))}),r)[e](n)}function o(e,t,n){var r;return(r={},S(r,d,function(e){return new Date(e["set"+n+"Seconds"](e["get"+n+"Seconds"](),0))}),S(r,T,function(e){return new Date(e["set"+n+"Minutes"](e["get"+n+"Minutes"](),0,0))}),S(r,D,function(e){return new Date(e["set"+n+"Hours"](e["get"+n+"Hours"](),0,0,0))}),S(r,g,function(e){return e["set"+n+"Date"](e["get"+n+"Date"]()),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),S(r,w,function(e){return e["set"+n+"Date"](e["get"+n+"Date"]()-e["get"+n+"Day"]()),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),S(r,l,function(e){return e["set"+n+"Month"](e["get"+n+"Month"](),1),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),S(r,s,function(e){return e["set"+n+"FullYear"](e["get"+n+"FullYear"](),0,1),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),r)[e](t)}function a(e,t,n){var r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(r={},S(r,U,function(e){return new Date(e["set"+u+"Milliseconds"](t))}),S(r,d,function(e){return new Date(e["set"+u+"Seconds"](t))}),S(r,T,function(e){return new Date(e["set"+u+"Minutes"](t))}),S(r,D,function(e){return new Date(e["set"+u+"Hours"](t))}),S(r,g,function(e){return new Date(e["set"+u+"Date"](t))}),S(r,f,function(e){return new Date(e["set"+u+"Date"](e["get"+u+"Date"]()-e["get"+u+"Day"]()+(t-1)))}),S(r,w,function(e){var n=e["get"+u+"Day"](),r=e["get"+u+"Milliseconds"]();e["set"+u+"FullYear"](e["get"+u+"FullYear"](),0,7*t);var o=n-e["get"+u+"Day"]();return e["set"+u+"Date"](e["get"+u+"Date"]()+o),new Date(e["set"+u+"Milliseconds"](r))}),S(r,l,function(e){var n=t-1,r=e["get"+u+"FullYear"](),o=e["get"+u+"Date"](),a=new Date(e["set"+u+"FullYear"](r,n+1,0));return o>a["get"+u+"Date"]()?a:new Date(e["set"+u+"FullYear"](r,n,o))}),S(r,s,function(e){var n=t,r=e["get"+u+"Month"](),o=e["get"+u+"Date"](),a=new Date(e["set"+u+"FullYear"](n,r+1,0));return o>a["get"+u+"Date"]()?a:new Date(e["set"+u+"FullYear"](n,r,o))}),r)[e](n)}function i(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(n={},S(n,h,function(e){return r?0:e.getTimezoneOffset()/60*-1}),S(n,U,function(e){return e["get"+r+"Milliseconds"]()}),S(n,d,function(e){return e["get"+r+"Seconds"]()}),S(n,T,function(e){return e["get"+r+"Minutes"]()}),S(n,D,function(e){return e["get"+r+"Hours"]()}),S(n,g,function(e){return e["get"+r+"Date"]()}),S(n,f,function(e){return e["get"+r+"Day"]()+1}),S(n,w,function(e){return Math.floor(((e-new Date(e["get"+r+"FullYear"](),0,1))/1e3/60/60/24+1)/7)}),S(n,l,function(e){return e["get"+r+"Month"]()+1}),S(n,s,function(e){return e["get"+r+"FullYear"]()}),n)[e](t)}var c,s="y",f="e",g="d",l="m",D="h",T="t",d="s",U="l",h="z",w="w",M=Object.freeze({UNIX:"unix",UTC_SHORT:"utc-short",UTC:"utc",ISO_SHORT:"iso-short",ISO:"iso",YEAR_FULL:"Y",YEAR:s,DAY_FULL:"E",DAY:f,DATE_ORDINAL:"o",DATE_FULL:"D",DATE:g,MONTH_NAME_FULL:"N",MONTH_NAME:"n",MONTH_FULL:"M",MONTH:l,HOUR_PERIOD_FULL:"G",HOUR_PERIOD:"g",HOUR_FULL:"H",HOUR:D,MINUTE_FULL:"T",MINUTE:T,PERIOD_UPPERCASE:"P",PERIOD_LOWERCASE:"p",SECOND_FULL:"S",SECOND:d,MILLISECOND_FULL:"L",MILLISECOND:U,TIMEZONE_OFFSET:h,WEEK:w}),S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},v=(c={},S(c,"P",function(e){return e.getHours()<12?"AM":"PM"}),S(c,"p",function(e){return e.getHours()<12?"am":"pm"}),S(c,f,function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]}),S(c,"E",function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}),S(c,D,function(e){return e.getHours()}),S(c,"H",function(e){var t=e.getHours().toString();return t.length<2?"0"+t:t}),S(c,"n",function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][e.getMonth()]}),S(c,"N",function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}),S(c,g,function(e){return e.getDate().toString()}),S(c,"D",function(e){var t=e.getDate().toString();return t.length<2?"0"+t:t}),S(c,"o",function(e){var t=e.getDate();switch(t){case 1:case 21:case 31:t+="st";break;case 2:case 22:t+="nd";break;case 3:case 23:t+="rd";break;default:t+="th"}return t}),S(c,"g",function(e){var t=e.getHours();return 0===t&&(t=12),t=t<13?t:t-12}),S(c,"G",function(e){var t=e.getHours();return 0===t&&(t=12),t=t<13?t:t-12,t=t.toString(),t.length<2?"0"+t:t}),S(c,U,function(e){return e.getMilliseconds().toString()}),S(c,"L",function(e){var t=e.getMilliseconds().toString();switch(t.length){case 1:t="00"+t;break;case 2:t="0"+t;break;default:t=""+t}return t}),S(c,l,function(e){return(e.getMonth()+1).toString()}),S(c,"M",function(e){var t=(e.getMonth()+1).toString();return t.length<2?"0"+t:t}),S(c,d,function(e){return e.getSeconds()}),S(c,"S",function(e){var t=e.getSeconds().toString();return t.length<2?"0"+t:t}),S(c,T,function(e){return e.getMinutes().toString()}),S(c,"T",function(e){var t=e.getMinutes().toString();return t.length<2?"0"+t:t}),S(c,s,function(e){return e.getFullYear().toString().substr(2)}),S(c,"Y",function(e){return e.getFullYear()}),S(c,h,function(e){var t=(e.getTimezoneOffset()/60*-1).toString();return t=/^[-]?\d$/g.test(t)?t.replace(/\d/,function(e,n){return"0"+t.charAt(n)}):t,/^[-]/g.test(t)||(t="+"+t),"UTC"+t+":00"}),S(c,"iso",function(e){return"short"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")?e.toISOString().split("T")[0]:e.toISOString()}),S(c,"iso-short",function(e){return this.iso(e,"short")}),S(c,"utc",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.toUTCString();if("short"===t){for(var r=n.split(" "),u=[],o=0;o<4;o++)u.push(r[o]);return u.join(" ")}return n}),S(c,"utc-short",function(e){return this.utc(e,"short")}),S(c,"unix",function(e){return Date.parse(e)}),c),F=r(function(e,t){t=t||new Date,n(t);var r=Object.values(M),u=e;return r.forEach(function(e){var n=new RegExp("\\b"+e+"\\b","g"),r=void 0;if(n.test(u))switch(e){case"unix":case"utc-short":case"utc":case"iso-short":case"iso":u=v[e](t);break;default:r=v[e](t),u=u.replace(n,r)}}),"string"==typeof u&&(u=u.replace(/\|/g,"")),u}),y=r(function(e,t,r){return r=r||new Date,n(r),u(e,1*t,r)}),O=r(function(e,t,r){return r=r||new Date,n(r),u(e,-1*t,r)}),p=r(function(e,t){return t=t||new Date,n(t),e.reduce(function(e,t){return u(t[0],1*t[1],e)},t)}),L=r(function(e,t){return t=t||new Date,n(t),e.reduce(function(e,t){return u(t[0],-1*t[1],e)},t)}),E=r(function(e,t){return t=t||new Date,n(t),o(e,t,"UTC")}),b=r(function(e,t){return t=t||new Date,n(t),o(e,t,"")}),H=r(function(e,t,r){return r=r||new Date,n(r),a(e,t,r,"UTC")}),Y=r(function(e,t,r){return r=r||new Date,n(r),a(e,t,r)}),A=r(function(e,t){return t=t||new Date,n(t),Object.keys(e).reduce(function(n,r){return a(r,e[r],t)},t)}),N=r(function(e,t){return t=t||new Date,n(t),Object.keys(e).reduce(function(n,r){return a(r,e[r],t,"UTC")},t)}),_=r(function(e,t){return t=t||new Date,n(t),i(e,t,"UTC")}),m=r(function(e,t){return t=t||new Date,n(t),i(e,t)}),I=r(function(e,t){return t=t||new Date,n(t),e.map(function(e){return i(e,t,"UTC")})}),R=r(function(e,t){return t=t||new Date,n(t),e.map(function(e){return i(e,t)})});e.reform=F,e.isDate=t,e.addTime=y,e.addTimeSequence=p,e.subtractTime=O,e.subtractTimeSequence=L,e.resetLocal=b,e.resetUTC=E,e.setLocal=Y,e.setLocalGroup=A,e.setUTC=H,e.setUTCGroup=N,e.getLocal=m,e.getLocalGroup=R,e.getUTC=_,e.getUTCGroup=I,Object.defineProperty(e,"__esModule",{value:!0})});
