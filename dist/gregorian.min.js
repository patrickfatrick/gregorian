!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.gregorian=e.gregorian||{})}(this,function(e){"use strict";function t(e){if(e instanceof Date&&!Number.isNaN(Date.parse(e)))return!0;throw new TypeError("Invalid date")}function n(e){return function t(){for(var n=arguments.length,r=Array(n),u=0;u<n;u++)r[u]=arguments[u];return function(){for(var n=arguments.length,u=Array(n),o=0;o<n;o++)u[o]=arguments[o];var a=r.concat(u.length?u:null);return(a.length>=e.length?e:t).apply(void 0,S(a))}}()}function r(e,t,n){var r;return(r={},M(r,d,function(e){return new Date(e.setUTCMilliseconds(e.getUTCMilliseconds()+t))}),M(r,T,function(e){return new Date(e.setUTCSeconds(e.getUTCSeconds()+t))}),M(r,D,function(e){return new Date(e.setUTCMinutes(e.getUTCMinutes()+t))}),M(r,l,function(e){return new Date(e.setUTCHours(e.getUTCHours()+t))}),M(r,f,function(e){return new Date(e.setUTCDate(e.getUTCDate()+t))}),M(r,h,function(e){return new Date(e.setUTCDate(e.getUTCDate()+7*t))}),M(r,g,function(e){var n=e.getUTCMonth()+t,r=e.getUTCFullYear(),u=e.getUTCDate();return u>new Date(e.setUTCFullYear(r,n+1,0)).getUTCDate()?new Date(e.setUTCFullYear(r,n+1,0)):new Date(e.setUTCFullYear(r,n,u))}),M(r,c,function(e){var n=e.getUTCFullYear()+t,r=e.getUTCMonth(),u=e.getUTCDate();return u>new Date(e.setUTCFullYear(n,r+1,0)).getUTCDate()?new Date(e.setUTCFullYear(n,r+1,0)):new Date(e.setUTCFullYear(n,r,u))}),r)[e](n)}function u(e,t,n){var r;return(r={},M(r,T,function(e){return new Date(e["set"+n+"Seconds"](e["get"+n+"Seconds"](),0))}),M(r,D,function(e){return new Date(e["set"+n+"Minutes"](e["get"+n+"Minutes"](),0,0))}),M(r,l,function(e){return new Date(e["set"+n+"Hours"](e["get"+n+"Hours"](),0,0,0))}),M(r,f,function(e){return e["set"+n+"Date"](e["get"+n+"Date"]()),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),M(r,h,function(e){return e["set"+n+"Date"](e["get"+n+"Date"]()-e["get"+n+"Day"]()),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),M(r,g,function(e){return e["set"+n+"Month"](e["get"+n+"Month"](),1),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),M(r,c,function(e){return e["set"+n+"FullYear"](e["get"+n+"FullYear"](),0,1),e["set"+n+"Hours"](0,0,0,0),new Date(e)}),r)[e](t)}function o(e,t,n){var r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(r={},M(r,d,function(e){return new Date(e["set"+u+"Milliseconds"](t))}),M(r,T,function(e){return new Date(e["set"+u+"Seconds"](t))}),M(r,D,function(e){return new Date(e["set"+u+"Minutes"](t))}),M(r,l,function(e){return new Date(e["set"+u+"Hours"](t))}),M(r,f,function(e){return new Date(e["set"+u+"Date"](t))}),M(r,s,function(e){return new Date(e["set"+u+"Date"](e["get"+u+"Date"]()-e["get"+u+"Day"]()+(t-1)))}),M(r,h,function(e){var n=e["get"+u+"Day"](),r=e["get"+u+"Milliseconds"]();e["set"+u+"FullYear"](e["get"+u+"FullYear"](),0,7*t);var o=n-e["get"+u+"Day"]();return e["set"+u+"Date"](e["get"+u+"Date"]()+o),new Date(e["set"+u+"Milliseconds"](r))}),M(r,g,function(e){var n=t-1,r=e["get"+u+"FullYear"](),o=e["get"+u+"Date"](),a=new Date(e["set"+u+"FullYear"](r,n+1,0));return o>a["get"+u+"Date"]()?a:new Date(e["set"+u+"FullYear"](r,n,o))}),M(r,c,function(e){var n=t,r=e["get"+u+"Month"](),o=e["get"+u+"Date"](),a=new Date(e["set"+u+"FullYear"](n,r+1,0));return o>a["get"+u+"Date"]()?a:new Date(e["set"+u+"FullYear"](n,r,o))}),r)[e](n)}function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(n={},M(n,U,function(e){return r?0:e.getTimezoneOffset()/60*-1}),M(n,d,function(e){return e["get"+r+"Milliseconds"]()}),M(n,T,function(e){return e["get"+r+"Seconds"]()}),M(n,D,function(e){return e["get"+r+"Minutes"]()}),M(n,l,function(e){return e["get"+r+"Hours"]()}),M(n,f,function(e){return e["get"+r+"Date"]()}),M(n,s,function(e){return e["get"+r+"Day"]()+1}),M(n,h,function(e){return Math.floor(((e-new Date(e["get"+r+"FullYear"](),0,1))/1e3/60/60/24+1)/7)}),M(n,g,function(e){return e["get"+r+"Month"]()+1}),M(n,c,function(e){return e["get"+r+"FullYear"]()}),n)[e](t)}var i,c="y",s="e",f="d",g="m",l="h",D="t",T="s",d="l",U="z",h="w",w=Object.freeze({UNIX:"unix",UTC_SHORT:"utc-short",UTC:"utc",ISO_SHORT:"iso-short",ISO:"iso",YEAR_FULL:"Y",YEAR:c,DAY_FULL:"E",DAY:s,DATE_ORDINAL:"o",DATE_FULL:"D",DATE:f,MONTH_NAME_FULL:"N",MONTH_NAME:"n",MONTH_FULL:"M",MONTH:g,HOUR_PERIOD_FULL:"G",HOUR_PERIOD:"g",HOUR_FULL:"H",HOUR:l,MINUTE_FULL:"T",MINUTE:D,PERIOD_UPPERCASE:"P",PERIOD_LOWERCASE:"p",SECOND_FULL:"S",SECOND:T,MILLISECOND_FULL:"L",MILLISECOND:d,TIMEZONE_OFFSET:U,WEEK:h}),M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},C=(i={},M(i,"P",function(e){return e.getHours()<12?"AM":"PM"}),M(i,"p",function(e){return e.getHours()<12?"am":"pm"}),M(i,s,function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]}),M(i,"E",function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}),M(i,l,function(e){return e.getHours()}),M(i,"H",function(e){var t=e.getHours().toString();return t.length<2?"0"+t:t}),M(i,"n",function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][e.getMonth()]}),M(i,"N",function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}),M(i,f,function(e){return e.getDate().toString()}),M(i,"D",function(e){var t=e.getDate().toString();return t.length<2?"0"+t:t}),M(i,"o",function(e){var t=e.getDate();switch(t){case 1:case 21:case 31:t+="st";break;case 2:case 22:t+="nd";break;case 3:case 23:t+="rd";break;default:t+="th"}return t}),M(i,"g",function(e){var t=e.getHours();return 0===t&&(t=12),t=t<13?t:t-12}),M(i,"G",function(e){var t=e.getHours();return 0===t&&(t=12),t=t<13?t:t-12,t=t.toString(),t.length<2?"0"+t:t}),M(i,d,function(e){return e.getMilliseconds().toString()}),M(i,"L",function(e){var t=e.getMilliseconds().toString();switch(t.length){case 1:t="00"+t;break;case 2:t="0"+t;break;default:t=""+t}return t}),M(i,g,function(e){return(e.getMonth()+1).toString()}),M(i,"M",function(e){var t=(e.getMonth()+1).toString();return t.length<2?"0"+t:t}),M(i,T,function(e){return e.getSeconds()}),M(i,"S",function(e){var t=e.getSeconds().toString();return t.length<2?"0"+t:t}),M(i,D,function(e){return e.getMinutes().toString()}),M(i,"T",function(e){var t=e.getMinutes().toString();return t.length<2?"0"+t:t}),M(i,c,function(e){return e.getFullYear().toString().substr(2)}),M(i,"Y",function(e){return e.getFullYear()}),M(i,U,function(e){var t=(e.getTimezoneOffset()/60*-1).toString();return t=/^[-]?\d$/g.test(t)?t.replace(/\d/,function(e,n){return"0"+t.charAt(n)}):t,/^[-]/g.test(t)||(t="+"+t),"UTC"+t+":00"}),M(i,"iso",function(e){return"short"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")?e.toISOString().split("T")[0]:e.toISOString()}),M(i,"iso-short",function(e){return this.iso(e,"short")}),M(i,"utc",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.toUTCString();if("short"===t){for(var r=n.split(" "),u=[],o=0;o<4;o++)u.push(r[o]);return u.join(" ")}return n}),M(i,"utc-short",function(e){return this.utc(e,"short")}),M(i,"unix",function(e){return Date.parse(e)}),i),v=n(function(e,n){n=n||new Date,t(n);var r=Object.values(w),u=e;return r.forEach(function(e){var t=new RegExp("\\b"+e+"\\b","g"),r=void 0;if(t.test(u))switch(e){case"unix":case"utc-short":case"utc":case"iso-short":case"iso":u=C[e](n);break;default:r=C[e](n),u=u.replace(t,r)}}),"string"==typeof u&&(u=u.replace(/\|/g,"")),u}),F=n(function(e,n,u){return u=u||new Date,t(u),r(e,1*n,u)}),y=n(function(e,n,u){return u=u||new Date,t(u),r(e,-1*n,u)}),O=n(function(e,n){return n=n||new Date,t(n),e.reduce(function(e,t){return r(t[0],1*t[1],e)},n)}),p=n(function(e,n){return n=n||new Date,t(n),e.reduce(function(e,t){return r(t[0],-1*t[1],e)},n)}),L=n(function(e,n){return n=n||new Date,t(n),u(e,n,"UTC")}),E=n(function(e,n){return n=n||new Date,t(n),u(e,n,"")}),b=n(function(e,n,r){return r=r||new Date,t(r),o(e,n,r,"UTC")}),H=n(function(e,n,r){return r=r||new Date,t(r),o(e,n,r)}),Y=n(function(e,n){return n=n||new Date,t(n),Object.keys(e).reduce(function(t,r){return o(r,e[r],n)},n)}),A=n(function(e,n){return n=n||new Date,t(n),Object.keys(e).reduce(function(t,r){return o(r,e[r],n,"UTC")},n)}),N=n(function(e,n){return n=n||new Date,t(n),a(e,n,"UTC")}),_=n(function(e,n){return n=n||new Date,t(n),a(e,n)}),m=n(function(e,n){return n=n||new Date,t(n),e.map(function(e){return a(e,n,"UTC")})}),I=n(function(e,n){return n=n||new Date,t(n),e.map(function(e){return a(e,n)})});e.reform=v,e.addTime=F,e.addTimeSequence=O,e.subtractTime=y,e.subtractTimeSequence=p,e.resetLocal=E,e.resetUTC=L,e.setLocal=H,e.setLocalGroup=Y,e.setUTC=b,e.setUTCGroup=A,e.getLocal=_,e.getLocalGroup=I,e.getUTC=N,e.getUTCGroup=m,Object.defineProperty(e,"__esModule",{value:!0})});
